<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Creador de Personajes RPG - Crea tu hÃ©roe para aventuras Ã©picas"
    />
    <title>Creador de Personajes RPG</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- NavegaciÃ³n -->
    <nav id="mainNav" class="nav-hidden">
      <div class="nav-container">
        <button id="navBrand" class="nav-brand">
          <span class="nav-icon">âš”ï¸</span>
          <h1>Creador RPG</h1>
        </button>
        <div class="nav-menu">
          <button id="btnShowDashboard" class="nav-link hidden">
            <span>ğŸ </span> Mis Personajes
          </button>
          <button id="btnShowAdmin" class="nav-link admin-link hidden">
            <span>âš™ï¸</span> Admin
          </button>
          <div class="nav-user">
            <button id="navUsername" class="btn-username hidden">Usuario</button>
            <button id="btnLogin" class="btn-login hidden">Iniciar SesiÃ³n</button>
            <button id="btnLogout" class="btn-logout hidden">Cerrar SesiÃ³n</button>
          </div>
        </div>
      </div>
    </nav>

    <!-- SecciÃ³n Login/Registro -->
    <section id="authSection" class="auth-section hidden">
      <div class="auth-container">
        <div class="auth-header">
          <h1 class="auth-title">âš”ï¸ Creador de Personajes RPG âš”ï¸</h1>
          <p class="auth-subtitle">
            Forja tu leyenda en los reinos fantÃ¡sticos
          </p>
        </div>

        <div class="auth-forms">
          <!-- Formulario de Login -->
          <div id="loginForm" class="auth-form-container">
            <h2 class="form-title">Iniciar SesiÃ³n</h2>
            <form id="formLogin" class="auth-form">
              <div class="form-group">
                <label for="loginEmail">Email</label>
                <input
                  type="email"
                  id="loginEmail"
                  name="email"
                  required
                  placeholder="tu@email.com"
                  autocomplete="email"
                />
              </div>
              <div class="form-group">
                <label for="loginPassword">ContraseÃ±a</label>
                <input
                  type="password"
                  id="loginPassword"
                  name="password"
                  required
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢"
                  autocomplete="current-password"
                />
              </div>
              <button type="submit" class="btn btn-primary">Entrar</button>
            </form>
            <p class="form-toggle">
              Â¿No tienes cuenta?
              <button id="showRegister" class="link-button">
                RegÃ­strate aquÃ­
              </button>
            </p>
          </div>

          <!-- Formulario de Registro -->
          <div id="registerForm" class="auth-form-container hidden">
            <h2 class="form-title">Crear Cuenta</h2>
            <form id="formRegister" class="auth-form">
              <div class="form-group">
                <label for="registerUsername">Nombre de Usuario</label>
                <input
                  type="text"
                  id="registerUsername"
                  name="username"
                  required
                  placeholder="Tu nombre"
                  autocomplete="username"
                />
              </div>
              <div class="form-group">
                <label for="registerEmail">Email</label>
                <input
                  type="email"
                  id="registerEmail"
                  name="email"
                  required
                  placeholder="tu@email.com"
                  autocomplete="email"
                />
              </div>
              <div class="form-group">
                <label for="registerPassword">ContraseÃ±a</label>
                <input
                  type="password"
                  id="registerPassword"
                  name="password"
                  required
                  placeholder="MÃ­nimo 6 caracteres"
                  autocomplete="new-password"
                />
              </div>
              <button type="submit" class="btn btn-primary">Registrarse</button>
            </form>
            <p class="form-toggle">
              Â¿Ya tienes cuenta?
              <button id="showLogin" class="link-button">Inicia sesiÃ³n</button>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- SecciÃ³n Principal (Dashboard) -->
    <main id="mainSection" class="main-section hidden">
      <!-- Vista de Lista de Personajes -->
      <section id="dashboardView" class="view-container">
        <div class="section-header">
          <h2 class="section-title">Mis Personajes</h2>
          <button id="btnCreateNew" class="btn btn-secondary">
            â• Crear Personaje
          </button>
        </div>
        <div id="charactersList" class="characters-grid">
          <!-- Los personajes se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
        </div>
        <div id="emptyState" class="empty-state hidden">
          <p class="empty-icon">ğŸ‰</p>
          <h3>No tienes personajes aÃºn</h3>
          <p>Â¡Crea tu primer hÃ©roe y comienza tu aventura!</p>
          <button id="btnCreateFirst" class="btn btn-primary">
            Crear Personaje
          </button>
        </div>
      </section>

      <!-- Vista de Perfil de Usuario -->
      <section id="profileView" class="view-container hidden">
        <div class="section-header">
          <h2 class="section-title">ğŸ‘¤ Mi Perfil</h2>
        </div>

        <div class="profile-container">
          <!-- InformaciÃ³n del Usuario -->
          <div class="profile-card">
            <h3 class="profile-card-title">ğŸ“‹ InformaciÃ³n de Usuario</h3>
            <div class="profile-info">
              <div class="info-row">
                <span class="info-label">ğŸ‘¤ Usuario:</span>
                <span id="profileUsername" class="info-value">-</span>
              </div>
              <div class="info-row">
                <span class="info-label">ğŸ“§ Email:</span>
                <span id="profileEmail" class="info-value">-</span>
              </div>
              <div class="info-row">
                <span class="info-label">ğŸ“… Registrado:</span>
                <span id="profileCreatedAt" class="info-value">-</span>
              </div>
            </div>
          </div>

          <!-- Personaje Principal -->
          <div class="profile-card">
            <h3 class="profile-card-title">â­ Personaje Principal</h3>
            <div id="mainCharacterDisplay" class="main-character-container">
              <div id="mainCharacterEmpty" class="empty-main">
                <p class="empty-icon">ğŸ­</p>
                <p>No has seleccionado un personaje principal</p>
                <p class="empty-hint">Marca uno como favorito desde "Mis Personajes"</p>
              </div>
              <div id="mainCharacterCard" class="main-character-card hidden">
                <!-- Se llena dinÃ¡micamente -->
              </div>
            </div>
          </div>

          <!-- Cambiar ContraseÃ±a -->
          <div class="profile-card">
            <h3 class="profile-card-title">ğŸ”’ Cambiar ContraseÃ±a</h3>
            <form id="formChangePassword" class="password-form">
              <div class="form-group">
                <label for="currentPassword">ContraseÃ±a actual</label>
                <input
                  type="password"
                  id="currentPassword"
                  name="current_password"
                  required
                  placeholder="Tu contraseÃ±a actual"
                  autocomplete="current-password"
                />
              </div>
              <div class="form-group">
                <label for="newPassword">Nueva contraseÃ±a</label>
                <input
                  type="password"
                  id="newPassword"
                  name="new_password"
                  required
                  placeholder="MÃ­nimo 6 caracteres"
                  autocomplete="new-password"
                />
              </div>
              <div class="form-group">
                <label for="confirmPassword">Confirmar contraseÃ±a</label>
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirm_password"
                  required
                  placeholder="Repite la nueva contraseÃ±a"
                  autocomplete="new-password"
                />
              </div>
              <button type="submit" class="btn btn-primary">Cambiar ContraseÃ±a</button>
            </form>
          </div>
        </div>
      </section>

      <!-- Vista de Admin Dashboard -->
      <section id="adminView" class="view-container hidden">
        <div class="section-header">
          <h2 class="section-title">âš™ï¸ Panel de AdministraciÃ³n</h2>
        </div>

        <!-- Stats Cards -->
        <div class="admin-stats">
          <div class="stat-card">
            <span class="stat-icon">ğŸ‘¥</span>
            <div class="stat-info">
              <span id="statUsers" class="stat-number">0</span>
              <span class="stat-label">Usuarios</span>
            </div>
          </div>
          <div class="stat-card">
            <span class="stat-icon">ğŸ­</span>
            <div class="stat-info">
              <span id="statCharacters" class="stat-number">0</span>
              <span class="stat-label">Personajes</span>
            </div>
          </div>
        </div>

        <!-- Usuarios -->
        <div class="admin-section">
          <h3 class="admin-section-title">ğŸ‘¥ Usuarios Registrados</h3>
          <div id="adminUsersTable" class="admin-table-container">
            <!-- Se llena dinÃ¡micamente -->
          </div>
        </div>

        <!-- EstadÃ­sticas Populares -->
        <div class="admin-section">
          <h3 class="admin-section-title">ğŸ“Š EstadÃ­sticas</h3>
          <div class="admin-stats-grid">
            <div class="admin-stats-card">
              <h4>âš”ï¸ Clases Populares</h4>
              <ul id="popularClasses" class="stats-list"></ul>
            </div>
            <div class="admin-stats-card">
              <h4>ğŸ­ Razas Populares</h4>
              <ul id="popularRaces" class="stats-list"></ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Vista de Creador de Personajes -->
      <section id="creatorView" class="view-container hidden">
        <div class="section-header">
          <button id="btnBackToDashboard" class="btn-back">â† Volver</button>
          <h2 class="section-title" id="creatorTitle">Crear Nuevo Personaje</h2>
        </div>

        <form id="formCharacter" class="character-form">
          <!-- Nombre del Personaje -->
          <div class="form-section">
            <label for="characterName" class="section-label"
              >Nombre del Personaje</label
            >
            <input
              type="text"
              id="characterName"
              name="name"
              required
              placeholder="Ej: Aragorn"
              class="input-large"
            />
          </div>

          <!-- Nivel del Personaje -->
          <div class="form-section">
            <label for="characterLevel" class="section-label">Nivel</label>
            <input
              type="number"
              id="characterLevel"
              name="level"
              min="1"
              max="60"
              value="1"
              class="input-level"
            />
          </div>

          <!-- SelecciÃ³n de Raza -->
          <div class="form-section">
            <label class="section-label">Selecciona tu Raza</label>
            <div id="racesList" class="selection-grid">
              <!-- Las razas se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
            </div>
          </div>

          <!-- SelecciÃ³n de Clase -->
          <div class="form-section">
            <label class="section-label">Selecciona tu Clase</label>
            <div id="classesList" class="selection-grid">
              <!-- Las clases se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
            </div>
          </div>

          <!-- SelecciÃ³n de Subclase -->
          <div id="subclassSection" class="form-section hidden">
            <label class="section-label">EspecializaciÃ³n (Subclase)</label>
            <div id="subclassesList" class="selection-grid">
              <!-- Las subclases se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
            </div>
          </div>

          <!-- VisualizaciÃ³n de Habilidades -->
          <div id="abilitiesSection" class="form-section hidden">
            <label class="section-label">Habilidades</label>
            <div id="abilitiesContainer">
              <div id="generalAbilities" class="abilities-group">
                <h4 class="abilities-subtitle">Habilidades Generales</h4>
                <div id="generalAbilitiesList" class="abilities-list"></div>
              </div>
              <div id="subclassAbilities" class="abilities-group">
                <h4 class="abilities-subtitle">
                  Habilidades de EspecializaciÃ³n
                </h4>
                <div id="subclassAbilitiesList" class="abilities-list"></div>
              </div>
            </div>
          </div>

          <!-- Botones de AcciÃ³n -->
          <div class="form-actions">
            <button
              type="button"
              id="btnCancelCreate"
              class="btn btn-secondary"
            >
              Cancelar
            </button>
            <button
              type="submit"
              id="btnSubmitCharacter"
              class="btn btn-primary"
            >
              Crear Personaje
            </button>
          </div>
        </form>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 2025 Creador de Personajes RPG</p>
      <a href="credits.html" class="footer-link">CrÃ©ditos y Atribuciones</a>
    </footer>

    <!-- Notificaciones Toast -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
      <div class="spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js?v=2"></script>
    <script src="js/auth.js?v=2"></script>
    <script src="js/characters.js?v=2"></script>
    <script src="js/creator.js?v=2"></script>
    <script src="js/profile.js?v=1"></script>
    <script src="js/admin.js?v=1"></script>
  </body>
</html>
